---
layout: home
---

    <p>redis-url-cache helps you store and retrieve url content on a Redis datastore.</p>

<h2>Getting started</h2>

<h3>Instalation</h3>

<pre><code lang="bash">
    npm install redis-url-cache
</code></pre>

<h3>Configuration</h3>

<p>Create your config files with the following content</p>

<pre><code lang="javascript">
    module.exports.rules = {
        always: [],
        maxAge: [],
        never: []
        default: 'always'
    };

    module.exports.redis = {
        host: 127.0.0.1,
        port: 6379
    }

</code></pre>

<p>This will store indefinitively all urls by default</p>

<h3>Create your caching instance</h3>

    <p>This will store this instance definition inside Redis. This should be executed only once.</p>

<pre><code lang="javascript">
    const CacheRulesCreator = require('redis-url-cache').CacheRulesCreator;
    const {redis, rules} = require('cache-config');

    const configCreator = new CacheRulesCreator('INSTANCE_1', redis, err => { });
    configCreator.importRules(rules, err => {  });
</code></pre>


<h3>Start using it</h3>

<pre><code lang="javascript">
    const {Instance, CacheEngineCB, CacheEnginePromise} = require('redis-url-cache');
    const {redis} = require('cache-config');

    const instance = new RedisUrlCache.Instance('INSTANCE_1', redis, {}, (err) => {} );

    const cacheEngineCB = new CacheEngineCB('http://www.yoursite.com', instance);
    //or use the promise support instead
    const cacheEnginePromise = new CacheEnginePromise('http://www.yoursite.com', instance);

    const url1 = cacheEngineCB.url('/someRelative.html');
    const url2 = cacheEngineCB.url('/someRelative.html');


    url1.set('<b>Hello</b>', (err, status) => {
        if(err) throw err;
    } );

    url1.get( (err, content) => {
        //content = '<b>Hello</b>;
    } );

    url2.has().then( exists => {
        //exists = true because these two cacheEngines share the same instance and same default domain.
    }, err => {});

</code></pre>

<p>Check out <a href="">the full usage guide</a> to learn more.</p>