{"version":3,"sources":["webpack:///webpack/bootstrap e1c6900501f244454037","webpack:///./ts/index.ts","webpack:///./ts/cacheEngine.ts","webpack:///external \"es6-promise\"","webpack:///./ts/redis/instance.ts","webpack:///./ts/interfaces.ts","webpack:///./ts/helpers.ts","webpack:///external \"debug\"","webpack:///./ts/redis/instanceCB.ts","webpack:///./ts/redis/pool.ts","webpack:///external \"redis\"","webpack:///external \"url\"","webpack:///./ts/cache.ts","webpack:///./ts/cacheEngineCB.ts"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AClIA,yC;;;;;;ACAA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACvEA,mC;;;;;;ACAA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;;;;;;;ACtTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;AC1DA,mC;;;;;;ACAA,iC;;;;;;ACAA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D","file":"dist/redis-cache.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e1c6900501f244454037\n **/","\"use strict\";\nvar cacheEngine_1 = require('./cacheEngine');\nvar cacheEngineCB_1 = require('./cacheEngineCB');\nmodule.exports.CacheEnginePromise = cacheEngine_1.default;\nmodule.exports.CacheEngineCB = cacheEngineCB_1.default;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/index.ts\n ** module id = 0\n ** module chunks = 0\n **/","\"use strict\";\nvar es6_promise_1 = require('es6-promise');\nvar instance_1 = require(\"./redis/instance\");\nvar helpers_1 = require('./helpers');\nvar nodeurl = require('url');\nvar dbug = require('debug');\nvar cache_1 = require('./cache');\nvar debug = dbug('simple-url-cache');\nvar CacheEngine = (function () {\n    function CacheEngine(defaultDomain, instanceName, storageConfig, cacheRules) {\n        this.defaultDomain = defaultDomain;\n        this.instanceName = instanceName;\n        this.storageConfig = storageConfig;\n        this.cacheRules = cacheRules;\n        helpers_1.default.isStringDefined(defaultDomain);\n        helpers_1.default.isStringDefined(instanceName);\n        helpers_1.default.validateCacheConfig(cacheRules);\n        if (helpers_1.default.isRedis(storageConfig)) {\n            this.type = 'file';\n        }\n        else {\n            throw new Error('Only Redis is supported');\n        }\n        if (typeof CacheEngine.pool[this.type] === 'undefined') {\n            CacheEngine.pool[this.type] = {};\n            CacheEngine.locks[this.type] = {};\n        }\n        if (typeof CacheEngine.pool[this.type][instanceName] === 'undefined') {\n            CacheEngine.pool[this.type][instanceName] = {};\n            CacheEngine.locks[this.type][instanceName] = false;\n        }\n    }\n    CacheEngine.prototype.clearDomain = function (domain) {\n        var _this = this;\n        if (typeof domain === 'undefined') {\n            domain = this.defaultDomain;\n        }\n        helpers_1.default.isStringDefined(domain);\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            var instance = _this.getInstance();\n            instance.clearDomain(domain).then(function () {\n                resolve(true);\n            }, function (err) {\n                reject(err);\n            });\n        });\n    };\n    CacheEngine.prototype.clearInstance = function () {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            var instance = _this.getInstance();\n            instance.clearCache().then(function () {\n                resolve(true);\n            }, function (err) {\n                reject(err);\n            });\n        });\n    };\n    CacheEngine.prototype.getStoredHostnames = function () {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            var instance = _this.getInstance();\n            instance.getCachedDomains().then(function (domains) {\n                resolve(domains);\n            }, function (err) {\n                reject(err);\n            });\n        });\n    };\n    CacheEngine.prototype.getStoredURLs = function (domain) {\n        var _this = this;\n        if (typeof domain === 'undefined') {\n            domain = this.defaultDomain;\n        }\n        helpers_1.default.isStringDefined(domain);\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            var instance = _this.getInstance();\n            instance.getCachedURLs(domain).then(function (urls) {\n                resolve(urls);\n            }, function (err) {\n                reject(err);\n            });\n        });\n    };\n    CacheEngine.prototype.url = function (url) {\n        helpers_1.default.isStringDefined(url);\n        var instance;\n        var parsedURL = nodeurl.parse(url);\n        var relativeURL = parsedURL.path;\n        if (!/\\//.test(relativeURL)) {\n            relativeURL = '/' + relativeURL;\n        }\n        parsedURL.pathname = null;\n        parsedURL.path = null;\n        parsedURL.hash = null;\n        parsedURL.query = null;\n        parsedURL.search = null;\n        var domain = nodeurl.format(parsedURL);\n        if (domain === relativeURL) {\n            throw new Error('The url ' + url + ' is not valid');\n        }\n        if (domain.length === 0) {\n            debug('This url', url, ' has no domain, using defaultDomain = ', this.defaultDomain);\n            domain = this.defaultDomain;\n        }\n        else {\n            debug('This URL ', url, ' has a domain: ', domain);\n        }\n        instance = this.getInstance();\n        return new cache_1.Cache(domain, instance, relativeURL);\n    };\n    CacheEngine.prototype.getInstance = function () {\n        if (typeof CacheEngine.pool[this.type][this.instanceName] === 'undefined') {\n            CacheEngine.pool[this.type][this.instanceName] = {};\n            CacheEngine.locks[this.type][this.instanceName] = {};\n        }\n        if (helpers_1.default.isRedis(this.storageConfig)) {\n            CacheEngine.pool[this.type][this.instanceName] = new instance_1.default(this.instanceName, this.storageConfig, this.cacheRules);\n        }\n        return CacheEngine.pool[this.type][this.instanceName];\n    };\n    CacheEngine.pool = {};\n    CacheEngine.locks = {};\n    CacheEngine.helpers = {\n        validateRedisStorageConfig: helpers_1.default.validateRedisStorageConfig,\n        validateCacheConfig: helpers_1.default.validateCacheConfig\n    };\n    return CacheEngine;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CacheEngine;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/cacheEngine.ts\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"es6-promise\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"es6-promise\"\n ** module id = 2\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar interfaces_1 = require(\"./../interfaces\");\nvar debg = require('debug');\nvar debug = debg('simple-url-cache-REDIS');\nvar es6_promise_1 = require('es6-promise');\nvar instanceCB_1 = require(\"./instanceCB\");\nvar RedisStorageInstance = (function (_super) {\n    __extends(RedisStorageInstance, _super);\n    function RedisStorageInstance(instanceName, config, rules) {\n        _super.call(this, instanceName, config);\n        this.config = config;\n        this.rules = rules;\n        this.type = 'promise';\n        this.hashKey = 'simple-url-cache:' + this.instanceName;\n        this.cbInstance = new instanceCB_1.default(instanceName, config, rules);\n    }\n    RedisStorageInstance.prototype.clearCache = function () {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.clearCache(function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.clearDomain = function (domain) {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.clearDomain(domain, function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.getCachedDomains = function () {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            debug('getAllCachedDomains called');\n            _this.cbInstance.getCachedDomains(function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.getCacheRules = function () {\n        return this.rules;\n    };\n    RedisStorageInstance.prototype.getCachedURLs = function (domain) {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.getCachedURLs(domain, function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.delete = function (domain, url, category, ttl) {\n        var _this = this;\n        debug('removing url cache: ', domain, url);\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.delete(domain, url, category, ttl, function (err, results) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.destroy = function () {\n        this._conn.kill();\n    };\n    RedisStorageInstance.prototype.get = function (domain, url, category, ttl) {\n        var _this = this;\n        debug('Retrieving url cache: ', domain, url);\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.get(domain, url, category, ttl, function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.has = function (domain, url, category, ttl) {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.has(domain, url, category, ttl, function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    RedisStorageInstance.prototype.set = function (domain, url, value, category, ttl, force) {\n        var _this = this;\n        return new es6_promise_1.Promise(function (resolve, reject) {\n            _this.cbInstance.set(domain, url, value, category, ttl, force, function (err, results) {\n                if (err) {\n                    debug(err);\n                    reject(err);\n                }\n                else {\n                    resolve(results);\n                }\n            });\n        });\n    };\n    return RedisStorageInstance;\n}(interfaces_1.StorageInstance));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RedisStorageInstance;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/redis/instance.ts\n ** module id = 3\n ** module chunks = 0\n **/","\"use strict\";\nvar helpers_1 = require('./helpers');\nvar StorageInstance = (function () {\n    function StorageInstance(instanceName, config) {\n        this.instanceName = instanceName;\n        if (helpers_1.default.isRedis(config)) {\n            this.storageType = 'redis';\n        }\n        else {\n            throw new Error('only redis is supported');\n        }\n    }\n    StorageInstance.prototype.getStorageType = function () {\n        return this.storageType;\n    };\n    StorageInstance.prototype.getInstanceName = function () {\n        return this.instanceName;\n    };\n    return StorageInstance;\n}());\nexports.StorageInstance = StorageInstance;\nvar StorageInstanceCB = (function () {\n    function StorageInstanceCB(instanceName, config) {\n        this.instanceName = instanceName;\n        if (helpers_1.default.isRedis(config)) {\n            this.storageType = 'redis';\n        }\n        else {\n            throw new Error('only redis is supported');\n        }\n    }\n    StorageInstanceCB.prototype.getStorageType = function () {\n        return this.storageType;\n    };\n    StorageInstanceCB.prototype.getInstanceName = function () {\n        return this.instanceName;\n    };\n    return StorageInstanceCB;\n}());\nexports.StorageInstanceCB = StorageInstanceCB;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/interfaces.ts\n ** module id = 4\n ** module chunks = 0\n **/","\"use strict\";\nvar Helpers = (function () {\n    function Helpers() {\n    }\n    Helpers.isRedis = function (storageConfig) {\n        return typeof storageConfig.host !== 'undefined';\n    };\n    Helpers.isStringDefined = function (input) {\n        if (typeof input !== 'string' || input.length === 0) {\n            Helpers.invalidParameterError('this should be a non empty string', input);\n        }\n    };\n    Helpers.isStringIn = function (input, values) {\n        if (typeof input !== 'string') {\n            return false;\n        }\n        var valid = false;\n        values.forEach(function (value) {\n            if (value === input) {\n                valid = true;\n            }\n        });\n        if (!valid) {\n            Helpers.invalidParameterError('This string should contain only these values : ' + values.join(', '), input);\n        }\n    };\n    Helpers.isArray = function (data) {\n        if ((data instanceof Array) === false) {\n            Helpers.invalidParameterError('This should be an array', data);\n        }\n    };\n    Helpers.isRegexRule = function (data) {\n        if ((data.regex instanceof RegExp) === false) {\n            Helpers.invalidParameterError('This should be a Regexp', data);\n        }\n    };\n    Helpers.hasMaxAge = function (data) {\n        if (typeof data.maxAge !== 'number') {\n            Helpers.invalidParameterError('This rule misses a maxAge property', data);\n        }\n    };\n    Helpers.isBoolean = function (data) {\n        if (typeof data !== 'boolean') {\n            Helpers.invalidParameterError('This is not a boolean probably the force param missing', data);\n        }\n    };\n    Helpers.isOptionalBoolean = function (data) {\n        if (typeof data !== 'undefined' && typeof data !== 'boolean') {\n            Helpers.invalidParameterError('You provided an optional boolean but this is not a boolean', data);\n        }\n    };\n    Helpers.validateCacheConfig = function (cacheRules) {\n        Helpers.isStringIn(cacheRules.default, ['always', 'never']);\n        ['always', 'never', 'maxAge'].forEach(function (type) {\n            Helpers.isArray(cacheRules[type]);\n            cacheRules[type].forEach(function (rule) {\n                Helpers.isRegexRule(rule);\n                if (type === 'maxAge') {\n                    Helpers.hasMaxAge(rule);\n                }\n            });\n        });\n    };\n    Helpers.validateRedisStorageConfig = function (data) {\n    };\n    Helpers.invalidParameterError = function (name, value) {\n        throw new TypeError('Invalid parameter: ' + name + '. Value received: ' + JSON.stringify(value));\n    };\n    return Helpers;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Helpers;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/helpers.ts\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = require(\"debug\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"debug\"\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar interfaces_1 = require(\"./../interfaces\");\nvar pool_1 = require('./pool');\nvar debg = require('debug');\nvar debug = debg('simple-url-cache-REDIS');\nvar RedisStorageInstanceCB = (function (_super) {\n    __extends(RedisStorageInstanceCB, _super);\n    function RedisStorageInstanceCB(instanceName, config, rules) {\n        _super.call(this, instanceName, config);\n        this.config = config;\n        this.rules = rules;\n        this.type = 'cb';\n        this.validateStorageConfig();\n        this.hashKey = 'simple-url-cache:' + this.instanceName;\n    }\n    RedisStorageInstanceCB.prototype.clearCache = function (cb) {\n        var _this = this;\n        var client = this._conn.getConnection();\n        var batch = client.batch();\n        client.hkeys(this.hashKey, function (err, domains) {\n            debug(err);\n            if (err)\n                return cb(err);\n            if (domains.length === 0) {\n                return cb(null, true);\n            }\n            var nb = 0;\n            domains.forEach(function (domain) {\n                batch.del(_this.getDomainHashKey(domain));\n                batch.hdel(_this.hashKey, domain);\n                client.hkeys(_this.getDomainHashKey(domain), function (err, keys) {\n                    debug('keys = ', keys);\n                    keys.forEach(function (key) {\n                        batch.del(_this.getUrlKey(domain, key));\n                    });\n                    nb++;\n                    if (nb === domains.length) {\n                        batch.exec(function (err) {\n                            debug(err);\n                            if (err)\n                                return cb(err);\n                            return cb(null, true);\n                        });\n                    }\n                });\n            });\n        });\n    };\n    RedisStorageInstanceCB.prototype.clearDomain = function (domain, cb) {\n        var _this = this;\n        var client = this._conn.getConnection();\n        debug('Clear all cache called');\n        client.hdel(this.hashKey, domain, function (err) {\n            if (err)\n                return cb(err);\n            client.hkeys(_this.getDomainHashKey(domain), function (err, urls) {\n                debug('getting keys for ', _this.getDomainHashKey(domain), urls);\n                if (urls.length === 0) {\n                    return cb(null, true);\n                }\n                var nb = 0;\n                urls.forEach(function (url) {\n                    debug('Deleting key ', _this.getUrlKey(domain, url));\n                    _this.delete(domain, url, null, null, function (err) {\n                        if (err)\n                            return cb(err);\n                        nb++;\n                        if (nb === urls.length) {\n                            cb(null, true);\n                        }\n                    });\n                });\n            });\n        });\n    };\n    RedisStorageInstanceCB.prototype.getCachedDomains = function (cb) {\n        var _this = this;\n        debug('getAllCachedDomains called');\n        this._conn.getConnection().hkeys(this.hashKey, function (err, results) {\n            if (err)\n                return cb(err);\n            debug('hkeys() ', _this.hashKey, results);\n            return cb(null, results);\n        });\n    };\n    RedisStorageInstanceCB.prototype.getCacheRules = function () {\n        return this.rules;\n    };\n    RedisStorageInstanceCB.prototype.getCachedURLs = function (domain, cb) {\n        var _this = this;\n        var client = this._conn.getConnection();\n        var cachedUrls = [];\n        client.hkeys(this.getDomainHashKey(domain), function (err, urls) {\n            if (err)\n                return cb(err);\n            if (urls.length === 0) {\n                return cb(null, cachedUrls);\n            }\n            debug('found these urls in ', _this.getDomainHashKey(domain), urls);\n            var nb = 0;\n            urls.forEach(function (url) {\n                client.get(_this.getUrlKey(domain, url), function (err, data) {\n                    if (err)\n                        return cb(err);\n                    debug('for url, got content ', url, data);\n                    if (data !== null) {\n                        cachedUrls.push(url);\n                        nb++;\n                        if (nb === urls.length) {\n                            return cb(null, cachedUrls);\n                        }\n                    }\n                    else {\n                        client.hdel(_this.getDomainHashKey(domain), url, function (err) {\n                            if (err)\n                                return cb(err);\n                            nb++;\n                            if (nb === urls.length) {\n                                return cb(null, cachedUrls);\n                            }\n                        });\n                    }\n                });\n            });\n        });\n    };\n    RedisStorageInstanceCB.prototype.delete = function (domain, url, category, ttl, cb) {\n        var _this = this;\n        debug('removing url cache: ', domain, url);\n        var client = this._conn.getConnection();\n        this.has(domain, url, category, ttl, function (err, isCached) {\n            if (!isCached) {\n                return cb('url is not cached');\n            }\n            else {\n                client.del(_this.getUrlKey(domain, url), function (err) {\n                    if (err) {\n                        debug('REDIS ERROR, ', err);\n                        return cb(err);\n                    }\n                    debug('DELETING HASH ', _this.getDomainHashKey(domain));\n                    client.hdel(_this.getDomainHashKey(domain), url, function (err) {\n                        if (err) {\n                            debug('REDIS ERROR', err);\n                            return cb(err);\n                        }\n                        return cb(null, true);\n                    });\n                });\n            }\n        });\n    };\n    RedisStorageInstanceCB.prototype.destroy = function () {\n        this._conn.kill();\n    };\n    RedisStorageInstanceCB.prototype.get = function (domain, url, category, ttl, cb) {\n        var _this = this;\n        debug('Retrieving url cache: ', domain, url);\n        var client = this._conn.getConnection();\n        client.hget(this.getDomainHashKey(domain), url, function (err, content) {\n            if (err)\n                return cb(err);\n            if (content === null) {\n                return cb('url not cached');\n            }\n            client.get(_this.getUrlKey(domain, url), function (err, timestamp) {\n                if (err)\n                    return cb(err);\n                if (timestamp === null) {\n                    client.hdel(_this.getDomainHashKey(domain), _this.getUrlKey(domain, url), function (err) {\n                        if (err)\n                            return cb(err);\n                        return cb('url not cached - cleaning timestamp informations');\n                    });\n                }\n                else {\n                    return cb(null, content);\n                }\n            });\n        });\n    };\n    RedisStorageInstanceCB.prototype.has = function (domain, url, category, ttl, cb) {\n        var _this = this;\n        var client = this._conn.getConnection();\n        client.get(this.getUrlKey(domain, url), function (err, data) {\n            if (err) {\n                debug('Error while querying is cached on redis: ', domain, url, err);\n                return cb(err);\n            }\n            else {\n                var isCached = data !== null;\n                debug('HAS, key ', _this.getUrlKey(domain, url), 'is cached? ', isCached);\n                if (!isCached) {\n                    client.hdel(_this.getDomainHashKey(domain), url, function (err) {\n                        debug('hdel executed', _this.getDomainHashKey(domain), url);\n                        if (err)\n                            return cb(err);\n                        return cb(null, false);\n                    });\n                }\n                else {\n                    return cb(null, true);\n                }\n            }\n        });\n    };\n    RedisStorageInstanceCB.prototype.set = function (domain, url, value, category, ttl, force, cb) {\n        var _this = this;\n        if (force === true) {\n            var ttl_1 = 0;\n            this.store(domain, url, value, ttl_1, force, function (err, result) {\n                if (err)\n                    return cb(err);\n                return cb(null, result);\n            });\n        }\n        else if (category === 'never') {\n            debug('this url should never been stored');\n            return cb(null, false);\n        }\n        else {\n            this.has(domain, url, category, ttl, function (err, has) {\n                if (err)\n                    return cb(err);\n                if (has === true) {\n                    debug('This url is already cached - not storing it: ', domain, url);\n                    return cb(null, false);\n                }\n                else {\n                    _this.store(domain, url, value, ttl, force, function (err, result) {\n                        if (err)\n                            return cb(err);\n                        return cb(null, result);\n                    });\n                }\n            });\n        }\n    };\n    ;\n    RedisStorageInstanceCB.prototype.getDomainHashKey = function (domain) {\n        return this.hashKey + ':' + domain;\n    };\n    RedisStorageInstanceCB.prototype.store = function (domain, url, value, ttl, force, cb) {\n        var _this = this;\n        var client = this._conn.getConnection();\n        client.hset(this.hashKey, domain, domain, function (err) {\n            if (err) {\n                return cb(err);\n            }\n            else {\n                client.hset(_this.getDomainHashKey(domain), url, value, function (err, exists) {\n                    if (err) {\n                        return cb(err);\n                    }\n                    if (exists === 0) {\n                        debug('Already set ');\n                        return cb(null, true);\n                    }\n                    client.get(_this.getUrlKey(domain, url), function (err, result) {\n                        if (err) {\n                            return cb(err);\n                        }\n                        if (result === null) {\n                            debug('REDIS timestamp not set');\n                            client.set(_this.getUrlKey(domain, url), Date.now(), function (err) {\n                                if (err)\n                                    return cb(err);\n                                if (ttl > 0) {\n                                    client.expire(_this.getUrlKey(domain, url), ttl, function (err) {\n                                        if (err)\n                                            return cb(err);\n                                        return cb(null, true);\n                                    });\n                                }\n                                else {\n                                    return cb(null, true);\n                                }\n                            });\n                        }\n                        else if (force === true) {\n                            if (ttl > 0) {\n                                client.expire(_this.getUrlKey(domain, url), ttl, function (err) {\n                                    if (err)\n                                        return cb(err);\n                                    return cb(null, true);\n                                });\n                            }\n                            else {\n                                return cb(null, true);\n                            }\n                        }\n                    });\n                });\n            }\n        });\n    };\n    RedisStorageInstanceCB.prototype.validateStorageConfig = function () {\n        this._conn = new pool_1.RedisPool(this.config);\n    };\n    RedisStorageInstanceCB.prototype.getUrlKey = function (domain, url) {\n        return this.getDomainHashKey(domain) + ':' + url;\n    };\n    return RedisStorageInstanceCB;\n}(interfaces_1.StorageInstanceCB));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = RedisStorageInstanceCB;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/redis/instanceCB.ts\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\nvar redis = require('redis');\nvar dbug = require('debug');\nvar debug = dbug('simple-url-cache-REDIS');\nvar RedisPool = (function () {\n    function RedisPool(config) {\n        RedisPool.connect(config);\n        this.db = config.db;\n    }\n    RedisPool.connect = function (config) {\n        if (typeof RedisPool._pool[config.db] === 'undefined' || RedisPool._pool[config.db] === null || !RedisPool._isOnline[config.db]) {\n            debug('This redis connection has never been instanciated before', config.db);\n            RedisPool._isOnline[config.db] = false;\n            RedisPool._pool[config.db] = redis.createClient(config);\n            RedisPool._pool[config.db].on('connect', function () {\n                RedisPool._isOnline[config.db] = true;\n                debug('redis connected');\n            });\n            RedisPool._pool[config.db].on('error', function (e) {\n                debug(e);\n                RedisPool._isOnline[config.db] = false;\n                RedisPool._pool[config.db] = null;\n                throw new Error(e);\n            });\n            RedisPool._pool[config.db].on('end', function () {\n                RedisPool._pool[config.db] = null;\n                RedisPool._isOnline[config.db] = false;\n                debug('Connection closed');\n            });\n            RedisPool._pool[config.db].on('warning', function (msg) {\n                debug('Warning called: ', msg);\n            });\n        }\n        return RedisPool._pool[config.db];\n    };\n    RedisPool.isOnline = function (db) {\n        return RedisPool._isOnline[db];\n    };\n    RedisPool.kill = function (db) {\n        if (RedisPool._isOnline[db] === true) {\n            RedisPool._pool[db].end();\n        }\n    };\n    RedisPool.prototype.getConnection = function () {\n        return RedisPool._pool[this.db];\n    };\n    RedisPool.prototype.isOnline = function () {\n        return RedisPool._isOnline[this.db];\n    };\n    RedisPool.prototype.kill = function () {\n        if (RedisPool._isOnline[this.db] === true) {\n            RedisPool._pool[this.db].end();\n        }\n    };\n    RedisPool._pool = {};\n    RedisPool._isOnline = {};\n    return RedisPool;\n}());\nexports.RedisPool = RedisPool;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/redis/pool.ts\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = require(\"redis\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redis\"\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = require(\"url\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"url\"\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar helpers_1 = require('./helpers');\nvar CacheCommon = (function () {\n    function CacheCommon(_domain, _config, _url, _instanceName, _storageType) {\n        var _this = this;\n        this._domain = _domain;\n        this._config = _config;\n        this._url = _url;\n        this._instanceName = _instanceName;\n        this._storageType = _storageType;\n        this._category = '';\n        this._maxAge = 0;\n        this.getRegexTest = function (u) {\n            return u.regex.test(_this._url);\n        };\n        this.setCacheCategory();\n    }\n    CacheCommon.prototype.getDomain = function () {\n        return this._domain;\n    };\n    CacheCommon.prototype.getCategory = function () {\n        return this._category;\n    };\n    CacheCommon.prototype.getInstanceName = function () {\n        return this._instanceName;\n    };\n    CacheCommon.prototype.getStorageType = function () {\n        return this._storageType;\n    };\n    CacheCommon.prototype.getUrl = function () {\n        return this._url;\n    };\n    CacheCommon.prototype.getTTL = function () {\n        return this._maxAge;\n    };\n    CacheCommon.prototype.setCacheCategory = function () {\n        var i;\n        for (i in this._config.maxAge) {\n            if (this.getRegexTest(this._config.maxAge[i]) === true) {\n                this._category = 'maxAge';\n                this._maxAge = this._config.maxAge[i].maxAge;\n            }\n        }\n        for (i in this._config.always) {\n            if (this.getRegexTest(this._config.always[i]) === true) {\n                this._category = 'always';\n            }\n        }\n        for (i in this._config.never) {\n            if (this.getRegexTest(this._config.never[i]) === true) {\n                this._category = 'never';\n            }\n        }\n        if (this._category.length === 0) {\n            this._category = this._config.default;\n        }\n    };\n    ;\n    return CacheCommon;\n}());\nexports.CacheCommon = CacheCommon;\nvar Cache = (function (_super) {\n    __extends(Cache, _super);\n    function Cache(_domain, _storageInstance, _url) {\n        var _this = this;\n        _super.call(this, _domain, _storageInstance.getCacheRules(), _url, _storageInstance.getInstanceName(), _storageInstance.getStorageType());\n        this._storageInstance = _storageInstance;\n        this.delete = function () {\n            return _this._storageInstance.delete(_this.getDomain(), _this.getUrl(), _this.getCategory(), _this.getTTL());\n        };\n        this.get = function () {\n            return _this._storageInstance.get(_this.getDomain(), _this.getUrl(), _this.getCategory(), _this.getTTL());\n        };\n        this.has = function () {\n            return _this._storageInstance.has(_this.getDomain(), _this.getUrl(), _this.getCategory(), _this.getTTL());\n        };\n        this.set = function (html, force) {\n            helpers_1.default.isStringDefined(html);\n            helpers_1.default.isOptionalBoolean(force);\n            if (typeof force === 'undefined') {\n                force = false;\n            }\n            return _this._storageInstance.set(_this.getDomain(), _this.getUrl(), html, _this.getCategory(), _this.getTTL(), force);\n        };\n        this._storageInstance = _storageInstance;\n    }\n    return Cache;\n}(CacheCommon));\nexports.Cache = Cache;\nvar CacheCB = (function (_super) {\n    __extends(CacheCB, _super);\n    function CacheCB(_domain, _storageInstance, _url) {\n        var _this = this;\n        _super.call(this, _domain, _storageInstance.getCacheRules(), _url, _storageInstance.getInstanceName(), _storageInstance.getStorageType());\n        this._storageInstance = _storageInstance;\n        this.delete = function (cb) {\n            _this._storageInstance.delete(_this.getDomain(), _this.getUrl(), _this.getCategory(), _this.getTTL(), cb);\n        };\n        this.get = function (cb) {\n            _this._storageInstance.get(_this.getDomain(), _this.getUrl(), _this.getCategory(), _this.getTTL(), cb);\n        };\n        this.has = function (cb) {\n            _this._storageInstance.has(_this.getDomain(), _this.getUrl(), _this.getCategory(), _this.getTTL(), cb);\n        };\n        this.set = function (html, force, cb) {\n            helpers_1.default.isStringDefined(html);\n            helpers_1.default.isBoolean(force);\n            _this._storageInstance.set(_this.getDomain(), _this.getUrl(), html, _this.getCategory(), _this.getTTL(), force, cb);\n        };\n    }\n    return CacheCB;\n}(CacheCommon));\nexports.CacheCB = CacheCB;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/cache.ts\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\nvar instanceCB_1 = require(\"./redis/instanceCB\");\nvar helpers_1 = require('./helpers');\nvar nodeurl = require('url');\nvar dbug = require('debug');\nvar cache_1 = require('./cache');\nvar debug = dbug('simple-url-cache');\nvar CacheEngineCB = (function () {\n    function CacheEngineCB(defaultDomain, instanceName, storageConfig, cacheRules) {\n        this.defaultDomain = defaultDomain;\n        this.instanceName = instanceName;\n        this.storageConfig = storageConfig;\n        this.cacheRules = cacheRules;\n        helpers_1.default.isStringDefined(defaultDomain);\n        helpers_1.default.isStringDefined(instanceName);\n        helpers_1.default.validateCacheConfig(cacheRules);\n        if (helpers_1.default.isRedis(storageConfig)) {\n            this.type = 'file';\n        }\n        else {\n            throw new Error('Only Redis is supported');\n        }\n        if (typeof CacheEngineCB.pool[this.type] === 'undefined') {\n            CacheEngineCB.pool[this.type] = {};\n            CacheEngineCB.locks[this.type] = {};\n        }\n        if (typeof CacheEngineCB.pool[this.type][instanceName] === 'undefined') {\n            CacheEngineCB.pool[this.type][instanceName] = {};\n            CacheEngineCB.locks[this.type][instanceName] = false;\n        }\n    }\n    CacheEngineCB.prototype.clearDomain = function (domain, cb) {\n        helpers_1.default.isStringDefined(domain);\n        var instance = this.getInstance();\n        instance.clearDomain(domain, cb);\n    };\n    CacheEngineCB.prototype.clearInstance = function (cb) {\n        var instance = this.getInstance();\n        instance.clearCache(cb);\n    };\n    CacheEngineCB.prototype.getStoredHostnames = function (cb) {\n        var instance = this.getInstance();\n        instance.getCachedDomains(cb);\n    };\n    CacheEngineCB.prototype.getStoredURLs = function (domain, cb) {\n        helpers_1.default.isStringDefined(domain);\n        var instance = this.getInstance();\n        instance.getCachedURLs(domain, cb);\n    };\n    CacheEngineCB.prototype.url = function (url) {\n        helpers_1.default.isStringDefined(url);\n        var instance;\n        var parsedURL = nodeurl.parse(url);\n        var relativeURL = parsedURL.path;\n        if (!/\\//.test(relativeURL)) {\n            relativeURL = '/' + relativeURL;\n        }\n        parsedURL.pathname = null;\n        parsedURL.path = null;\n        parsedURL.hash = null;\n        parsedURL.query = null;\n        parsedURL.search = null;\n        var domain = nodeurl.format(parsedURL);\n        if (domain === relativeURL) {\n            throw new Error('The url ' + url + ' is not valid');\n        }\n        if (domain.length === 0) {\n            debug('This url', url, ' has no domain, using defaultDomain = ', this.defaultDomain);\n            domain = this.defaultDomain;\n        }\n        else {\n            debug('This URL ', url, ' has a domain: ', domain);\n        }\n        instance = this.getInstance();\n        return new cache_1.CacheCB(domain, instance, relativeURL);\n    };\n    CacheEngineCB.prototype.getInstance = function () {\n        if (typeof CacheEngineCB.pool[this.type][this.instanceName] === 'undefined') {\n            CacheEngineCB.pool[this.type][this.instanceName] = {};\n            CacheEngineCB.locks[this.type][this.instanceName] = {};\n        }\n        if (helpers_1.default.isRedis(this.storageConfig)) {\n            CacheEngineCB.pool[this.type][this.instanceName] = new instanceCB_1.default(this.instanceName, this.storageConfig, this.cacheRules);\n        }\n        return CacheEngineCB.pool[this.type][this.instanceName];\n    };\n    CacheEngineCB.pool = {};\n    CacheEngineCB.locks = {};\n    CacheEngineCB.helpers = {\n        validateRedisStorageConfig: helpers_1.default.validateRedisStorageConfig,\n        validateCacheConfig: helpers_1.default.validateCacheConfig\n    };\n    return CacheEngineCB;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = CacheEngineCB;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ts/cacheEngineCB.ts\n ** module id = 12\n ** module chunks = 0\n **/"],"sourceRoot":""}